<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Docker Workshop - Custom Images</title>

    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../style.css">

    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {
            $('#navigation').load('../navbar.html').removeAttr("style");
/*            $('.task').each(function() {
                var $id = $(this).attr("id");
                var dataElem = {"task": $id};
                $.ajax({
                    url: '/check',
                    data: {
                        task: $id
                    }
                }).done(function(data) {
                    if(data === "korrekt") {
                        $('#' + $id).append('<span class="fa fa-check-circle"></span>');
                    } else {
                        $('#' + $id).append('<span class="fa fa-times-circle">'+data+'</span>');
                    }
                }).fail(function(error) {
                    console.log("Failure while retrieving task progression: " + error);
                });
            });*/
        });
    </script>
</head>


<body>

<div class="nav-container">
    <div id="navigation"></div>
</div>
<div class="container">
    <h1>Oppgave 1 - Lage egne Docker images</h1>
    <p>
        &Aring; kj&oslash;re ferdig-lagde images er jo fint og flott (og blir nyttig senere), men for at
        ting skal bli virkelig spennende m&aring; man lage sine egne images! M&aring;ten man bygger images p&aring; i Docker er &aring; lage en
        dockerfil med instruksjoner, som s&aring; utf&oslash;res under byggingen av imaget (et kjent konsept for de av dere som har
        brukt Makefiles!). Deretter kan man kj&oslash;re containere basert p&aring; imaget.
    </p>

    <div class="alert alert-info">
        F&oslash;r du begynner p&aring; oppgavene, husk &aring; gj&oslash;re ferdig <a href="../installasjon.html">installasjonen</a>
        og last ned <a href="../index.html#kildekode">kildekoden</a>.<br>
        Alle oppgaver kommer for øvrig med en oversikt over nyttige lenker nederst på siden, disse skal gi nok informasjon
        til å kunne fullføre oppgaven.
    </div>

    <h2>a)</h2>
    <p>
        Endre filen 'Dockerfile' i mappen 'oppgave_1', slik at containeren vil kj&oslash;re linux-kommandoen "echo" med argumentet
        "Hello World, this is Docker!" n&aring;r den starter opp (hint: CMD). Bruk Dockers bygge-kommando for &aring; utf&oslash;re instruksjonene i
        Dockerfile for &aring; bygge imaget. Det anbefales å stå i samme mappe som Dockerfile når bygge-kommandoen kjøres. Hvis
        en linje a la f&oslash;lgende er blitt skrevet ut, så lyktes byggingen: "Successfully built e9d6fc444937" (autogenerert
        id vil variere).
    </p>
    <p>
        Det er for &oslash;vrig anbefalt &aring; navngi imagene sine. Hint: Bruk flagg -t.
    </p>

    <div class="alert alert-info">
        NB: Windows-brukere vil få følgende ufarlige feilmelding, ikke bli skremt:<br>
        SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and
        directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset
        permissions for sensitive files and directories.
    </div>

    <h2>b)</h2>
    <p>
        List ut alle lokale docker images, og se at imaget som ble bygd i Oppgave a) n&aring; er med p&aring; listen.
    </p>

    <h2>c)</h2>
    <p>
        Kj&oslash;r en container basert p&aring; imaget du nettopp lagde, og se at forventet tekst blir skrevet ut fra echo-kommandoen.
    </p>

    <h2>Nyttige lenker</h2>
    <ul>
        <li><a href="https://docs.docker.com/engine/getstarted/step_four/">Build your own image</a></li>
        <li><a href="https://docs.docker.com/engine/reference/builder/#cmd">Dockerfile - CMD</a></li>
        <li><a href="https://docs.docker.com/engine/userguide/containers/dockerimages/#listing-images-on-the-host">List Docker Images</a></li>
        <li><a href="https://docs.docker.com/engine/reference/run">Docker Run reference</a></li>
    </ul>
</div>

</body>
</html>