<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Docker Workshop - Swarm</title>

    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../style.css">

    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#navigation').load('../navbar.html');

            $('.task').each(function() {
                var $id = $(this).attr("id");
                var dataElem = {"task": $id};
                $.ajax({
                    url: '/check',
                    data: { task: $id }
                }).done(function(data) {
                    $('#' + $id).append('<div>'+data+'</div>');
                });
            });
        });
    </script>
</head>

<body>

<div class="nav-container">
    <div id="navigation"></div>
</div>

<div class="container">
    <h1>Lage clustere med Docker Swarm</h1>
    <p>
        En Docker Swarm er et cluster av docker-machines, der <b>noder</b> blir styrt av en (eller flere) <b>Swarm manager(e)</b>.
        Dette er en form for abstraksjon, og sett utenfra er en swarm manager ekvivalent med en normal docker machine. Forskjellen
        er at manageren automatisk kan fordele containere på de nodene som til enhver tid har mest ledig kapasitet, og gjør
        det lettere å skalere en applikasjon. En Swarm kan enkelt utvides med flere noder etter behov.
    </p>

    <h2>a)</h2>
    <p>
        Bruk docker-machine til å lage en Swarm med minst 3 noder og en Swarm Manager.
    </p>
    <p>
        Tips: bruk "docker info" på swarm-manageren for å se dens status, med bl.a. hvor mange noder den inneholder,
        nodenes IP osv.
        Tips: kopier og lagre Swarm-token etter den har blitt generert! Den trengs for å interaktere med clusteret.
    </p>

    <h2>b)</h2>
    <p>
        Todo: et program det er meningsfullt å kjøre på flere noder.
    </p>

    <div id="fremgang">
        <h2>Fremgang</h2>
        <div id="8a" class="task">a) </div>
        <div id="8b" class="task">b) </div>
    </div>

    <h2>Nyttige lenker</h2>
    <ul>
        <li><a href="https://docs.docker.com/swarm/">Docker Docs - Swarm</a></li>
        <li><a href="https://docs.docker.com/swarm/provision-with-machine/">Provisioning a Swarm Cluster with Docker Machine</a></li>
    </ul>

</div>


</body>
</html>